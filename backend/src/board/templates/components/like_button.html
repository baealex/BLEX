{% comment %}
Alpine.js 기반 좋아요 버튼 컴포넌트
사용법: {% include 'components/like_button.html' with post_url=post.url likes_count=post.count_likes has_liked=post.has_liked size='small' %}

매개변수:
- post_url: 포스트 URL (필수)
- likes_count: 좋아요 수 (필수) 
- has_liked: 사용자가 좋아요 했는지 여부 (필수)
- size: 버튼 크기 'small' 또는 'normal' (선택, 기본값: normal)
{% endcomment %}

<button
    x-data="likeButton({
        count: {{ likes_count }},
        liked: {{ has_liked|yesno:'true,false' }},
        postUrl: '{{ post_url }}'
    })"
    @click="handleLike()"
    :class="{
        'bg-black border-black text-white hover:bg-gray-800': liked,
        'bg-gray-50 border-gray-200 hover:border-gray-300 text-gray-700 hover:bg-gray-100 hover:text-gray-900': !liked,
        'opacity-70 cursor-not-allowed': loading,
        'active:scale-95': !loading
    }"
    :disabled="loading"
    class="group inline-flex items-center justify-center border font-medium transition-all duration-200 outline-none cursor-pointer
    {% if size == 'small' %}gap-1.5 px-4 py-2.5 sm:px-4 sm:py-2.5 min-h-[44px] sm:min-h-auto rounded-xl{% else %}gap-1.5 px-3 py-1 rounded-3xl{% endif %}">
    <i :class="{
        'fas fa-heart': true
    }" class="{% if size == 'small' %}text-base{% endif %}"></i>
    <span x-text="count" class="text-sm"></span>
</button>
