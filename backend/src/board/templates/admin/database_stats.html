{% extends "admin/base_site.html" %}

{% block content %}
<div id="content-main">
    <h1>ë°ì´í„°ë² ì´ìŠ¤ í†µê³„</h1>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
        <!-- í¬ìŠ¤íŠ¸ í†µê³„ -->
        <div class="module">
            <h2>ğŸ“ í¬ìŠ¤íŠ¸</h2>
            <table>
                <tbody>
                    <tr>
                        <th>ì „ì²´ í¬ìŠ¤íŠ¸:</th>
                        <td><strong>{{ stats.total_posts }}</strong>ê°œ</td>
                    </tr>
                    <tr>
                        <th>ê³µê°œ í¬ìŠ¤íŠ¸:</th>
                        <td>{{ stats.published_posts }}ê°œ</td>
                    </tr>
                    <tr>
                        <th>ìˆ¨ê¹€ í¬ìŠ¤íŠ¸:</th>
                        <td>{{ stats.hidden_posts }}ê°œ</td>
                    </tr>
                    <tr>
                        <th>ì„ì‹œ í¬ìŠ¤íŠ¸:</th>
                        <td>{{ stats.temp_posts }}ê°œ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì‚¬ìš©ì í†µê³„ -->
        <div class="module">
            <h2>ğŸ‘¥ ì‚¬ìš©ì</h2>
            <table>
                <tbody>
                    <tr>
                        <th>ì „ì²´ ì‚¬ìš©ì:</th>
                        <td><strong>{{ stats.total_users }}</strong>ëª…</td>
                    </tr>
                    <tr>
                        <th>í™œì„± í”„ë¡œí•„:</th>
                        <td>{{ stats.active_profiles }}ê°œ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ëŒ“ê¸€ & ì‹œë¦¬ì¦ˆ -->
        <div class="module">
            <h2>ğŸ’¬ ê¸°íƒ€</h2>
            <table>
                <tbody>
                    <tr>
                        <th>ì „ì²´ ëŒ“ê¸€:</th>
                        <td><strong>{{ stats.total_comments }}</strong>ê°œ</td>
                    </tr>
                    <tr>
                        <th>ì‹œë¦¬ì¦ˆ:</th>
                        <td>{{ stats.total_series }}ê°œ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì„¸ì…˜ & ìºì‹œ -->
        <div class="module">
            <h2>ğŸ”§ ì‹œìŠ¤í…œ</h2>
            <table>
                <tbody>
                    <tr>
                        <th>ì´ë¯¸ì§€ ìºì‹œ:</th>
                        <td>{{ stats.image_cache_count }}ê°œ</td>
                    </tr>
                    <tr>
                        <th>ì „ì²´ ì„¸ì…˜:</th>
                        <td>{{ stats.total_sessions }}ê°œ</td>
                    </tr>
                    <tr>
                        <th>ë§Œë£Œëœ ì„¸ì…˜:</th>
                        <td style="color: {% if stats.expired_sessions > 0 %}#ba2121{% else %}#417690{% endif %};">
                            {{ stats.expired_sessions }}ê°œ
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸° -->
        <div class="module">
            <h2>ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤</h2>
            <table>
                <tbody>
                    <tr>
                        <th>DB í¬ê¸°:</th>
                        <td><strong>{{ stats.db_size }}</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div style="margin-top: 20px;">
        <a href="{% url 'admin:utility_dashboard' %}" class="button">ëŒì•„ê°€ê¸°</a>
        <button onclick="window.location.reload()" class="button" style="margin-left: 10px;">ìƒˆë¡œê³ ì¹¨</button>
    </div>
</div>
{% endblock %}
