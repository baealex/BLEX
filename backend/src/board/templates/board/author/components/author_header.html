{% load static %}
{% load island %}

<div class="relative overflow-hidden">
    <div class="relative flex flex-col items-center text-center py-8 sm:py-12 md:py-16 px-4 sm:px-6 max-w-4xl mx-auto">
        <div class="relative group mb-6 sm:mb-8">
            <div class="absolute -inset-1 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full opacity-30 group-hover:opacity-50 blur transition duration-300"></div>
            <img class="relative w-24 h-24 sm:w-32 sm:h-32 md:w-36 md:h-36 rounded-full object-cover border-4 border-white shadow-xl transition-transform duration-300 group-hover:scale-105" src="{% if author.profile.avatar %}{% static author.profile.avatar.url %}{% else %}{% static 'default_avatar.jpg' %}{% endif %}" alt="{{ author.username }}">
        </div>
        
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4">
            {{ author.username }}
        </h1>
        
        {% if author.profile.bio %}
        <p class="text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-6 sm:mb-8 leading-relaxed px-2">
            {{ author.profile.bio }}
        </p>
        {% endif %}
        
        {% if author.profile.homepage %}
        <div class="mb-6 sm:mb-8" x-data="{ 
            url: '{{ author.profile.homepage }}',
            get hostname() {
                try {
                    return new URL(this.url).hostname.replace('www.', '');
                } catch (e) {
                    return this.url;
                }
            }
        }">
            <a :href="url" target="_blank" 
               class="inline-flex items-center gap-2 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg 
                      text-gray-700 hover:bg-gray-900 hover:text-white hover:border-gray-900 
                      transition-all duration-300 text-sm font-medium">
                <i class="fas fa-external-link-alt"></i>
                <span x-text="hostname"></span>
            </a>
        </div>
        {% endif %}
        
        {% with author.profile.collect_social as social_links %}
        {% if social_links %}
        <div class="flex gap-2 sm:gap-3 flex-wrap justify-center max-w-xs sm:max-w-sm mx-auto">
            {% for social in social_links %}
            <a href="{{ social.value }}" target="_blank" 
               class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gray-50 border border-gray-200 
                      flex items-center justify-center text-gray-600 
                      hover:bg-gray-900 hover:text-white hover:border-gray-900 
                      transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105 transform" 
               title="{{ social.name }}">
                {% if social.name|lower == 'github' %}
                    <i class="fab fa-github text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'twitter' or social.name|lower == 'x' %}
                    <i class="fab fa-twitter text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'facebook' %}
                    <i class="fab fa-facebook-f text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'instagram' %}
                    <i class="fab fa-instagram text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'linkedin' %}
                    <i class="fab fa-linkedin-in text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'youtube' %}
                    <i class="fab fa-youtube text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'tiktok' %}
                    <i class="fab fa-tiktok text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'discord' %}
                    <i class="fab fa-discord text-sm sm:text-lg"></i>
                {% else %}
                    <i class="fas fa-link text-sm sm:text-lg"></i>
                {% endif %}
            </a>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
    </div>
</div>
