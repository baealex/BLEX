{% load static %}
{% load island %}
{% load resource %}

<div class="relative overflow-hidden">
    <div class="relative flex flex-col items-center text-center py-8 sm:py-12 md:py-16 px-4 sm:px-6 max-w-4xl mx-auto">
        <div class="relative group mb-6 sm:mb-8">
            {% if author.profile.avatar %}
            <img class="relative w-24 h-24 sm:w-32 sm:h-32 md:w-36 md:h-36 rounded-full object-cover border-4 border-white shadow-xl transition-all duration-300 group-hover:scale-105 group-hover:shadow-2xl" src="{{ author.profile.avatar.url }}" alt="{{ author.username }}">
            {% else %}
            <div class="relative w-24 h-24 sm:w-32 sm:h-32 md:w-36 md:h-36 rounded-full border-4 border-white shadow-xl transition-all duration-300 group-hover:scale-105 group-hover:shadow-2xl bg-black flex items-center justify-center text-5xl sm:text-8xl font-bold text-white uppercase">
                {{ author.username|slice:':1' }}
            </div>
            {% endif %}
        </div>
        
        <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-3 sm:mb-4">
            {{ author.username }}
        </h1>
        
        {% if author.profile.bio %}
        <p class="text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-6 sm:mb-8 leading-relaxed px-2">
            {{ author.profile.bio }}
        </p>
        {% endif %}
        
        {% if author.profile.homepage %}
        <div class="mb-6 sm:mb-8">
            <a href="{{ author.profile.homepage }}" target="_blank"
               class="inline-flex items-center gap-2 px-6 py-3 bg-gray-50 border border-gray-200 rounded-xl
                      text-gray-700 hover:bg-black hover:text-white hover:border-black
                      transition-all duration-200 text-sm font-medium shadow-sm hover:shadow-md">
                <i class="fas fa-external-link-alt"></i>
                <span>
                    {% if 'https://' in author.profile.homepage %}
                        {{ author.profile.homepage|slice:"8:"|truncatechars:30 }}
                    {% elif 'http://' in author.profile.homepage %}
                        {{ author.profile.homepage|slice:"7:"|truncatechars:30 }}
                    {% else %}
                        {{ author.profile.homepage|truncatechars:30 }}
                    {% endif %}
                </span>
            </a>
        </div>
        {% endif %}
        
        {% with author.profile.collect_social as social_links %}
        {% if social_links %}
        <div class="flex gap-2 sm:gap-3 flex-wrap justify-center max-w-xs sm:max-w-sm mx-auto">
            {% for social in social_links %}
            <a href="{{ social.value }}" target="_blank"
               class="w-10 h-10 sm:w-12 sm:h-12 rounded-2xl bg-gray-50 border border-gray-200
                      flex items-center justify-center text-gray-700
                      hover:bg-black hover:text-white hover:border-black
                      transition-all duration-200 shadow-sm hover:shadow-md hover:scale-105 transform"
               title="{{ social.name }}">
                {% if social.name|lower == 'github' %}
                    <i class="fab fa-github text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'twitter' or social.name|lower == 'x' %}
                    <i class="fab fa-twitter text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'facebook' %}
                    <i class="fab fa-facebook-f text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'instagram' %}
                    <i class="fab fa-instagram text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'linkedin' %}
                    <i class="fab fa-linkedin-in text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'youtube' %}
                    <i class="fab fa-youtube text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'tiktok' %}
                    <i class="fab fa-tiktok text-sm sm:text-lg"></i>
                {% elif social.name|lower == 'discord' %}
                    <i class="fab fa-discord text-sm sm:text-lg"></i>
                {% else %}
                    <i class="fas fa-link text-sm sm:text-lg"></i>
                {% endif %}
            </a>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
    </div>
</div>
