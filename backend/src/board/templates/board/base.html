<!DOCTYPE html>
{% load resource %}
{% load island %}
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="origin" />
    <title>{% block title %}BLEX{% endblock %}</title>
    <link rel="preload" href="/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Bold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="{% island_css 'styles/main.scss' %}">
    <link rel="icon" href="{% resource 'favicon.ico' %}" />
    <link rel="apple-touch-icon" sizes="57x57" href="{% resource 'logo57.png' %}" />
    <link rel="apple-touch-icon" sizes="72x72" href="{% resource 'logo72.png' %}" />
    <link rel="apple-touch-icon" sizes="76x76" href="{% resource 'logo76.png' %}" />
    <link rel="apple-touch-icon" sizes="114x114" href="{% resource 'logo114.png' %}" />
    <link rel="apple-touch-icon" sizes="120x120" href="{% resource 'logo120.png' %}" />
    <link rel="apple-touch-icon" sizes="144x144" href="{% resource 'logo144.png' %}" />
    <link rel="apple-touch-icon" sizes="152x152" href="{% resource 'logo152.png' %}" />
    <link rel="icon" type="image/png" sizes="16x16" href="{% resource 'logo16.png' %}" />
    <link rel="icon" type="image/png" sizes="32x32" href="{% resource 'logo32.png' %}" />
    <link rel="icon" type="image/png" sizes="96x96" href="{% resource 'logo96.png' %}" />
    <link rel="icon" type="image/png" sizes="192x192" href="{% resource 'logo192.png' %}" />
    <link rel="icon" type="image/png" sizes="512x512" href="{% resource 'logo512.png' %}" />
    <meta name="theme-color" content="#000" />
    <meta name="application-name" content="BLEX" />
    <meta name="msapplication-TileImage" content="{% resource 'logo144.png' %}" />
    <meta name="msapplication-TileColor" content="#000" />
    {% block extra_styles %}{% endblock %}
    <style>
        @font-face {
            font-family: 'SpoqaHanSansNeo';
            src:
                url('/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Regular.ttf') format('truetype'),
                url('/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Regular.woff2') format('woff2'),
                url('/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'SpoqaHanSansNeo';
            src:
                url('/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Bold.ttf') format('truetype'),
                url('/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Bold.woff2') format('woff2'),
                url('/resources/assets/fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Bold.woff') format('woff');
            font-weight: bold;
            font-style: normal;
            font-display: swap;
        }
    </style>
    {% include 'custom/custom_head.html' %}
</head>

<body class="bg-gray-50">
    {% include 'components/header.html' %}
    <main class="min-h-[calc(100vh-10.5rem)] flex flex-col px-4 md:px-6 py-6 md:py-8">
        {% block content %}{% endblock %}
    </main>
    {% include 'components/footer.html' %}

    {% if debug %}
        <div class="fixed bottom-3 right-3 z-50 border border-solid border-black backdrop-blur-sm text-sm rounded-2xl px-4 py-2">
            DEV
        </div>
    {% endif %}
    <island-component name="SearchModal"></island-component>
    <island-component name="LoginPrompt"></island-component>
    <island-component name="Toaster"></island-component>
    <script>
        window.configuration = {
            media: "{% resource 'media/' %}",
            static: "{% resource '' %}",
            {% if user.is_authenticated %}
            user: {
                isAuthenticated: "{{ user.is_authenticated }}",
                username: "{{ user.username }}",
            },
            {% endif %}
            googleClientId: "{{ GOOGLE_OAUTH_CLIENT_ID|default:'' }}",
            githubClientId: "{{ GITHUB_OAUTH_CLIENT_ID|default:'' }}"
        };
    </script>
    {% block extra_scripts %}{% endblock %}

    {% vite_hmr_client %}
    <script type="module" src="{% island_entry 'src/island.tsx' %}"></script>
    <script type="module" src="{% island_entry 'src/scripts/lazy-loading.ts' %}"></script>
    <script type="module" src="{% island_entry 'src/scripts/alpine-loader.ts' %}"></script>
    {% include 'custom/custom_body.html' %}
</body>

</html>
