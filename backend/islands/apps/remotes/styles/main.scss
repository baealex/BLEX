@use "./variables.css";
@use "./forwarded.scss";
@use "./fonts/fontawesome.scss";
@use "./fonts/pretendard.scss";

@view-transition {
    navigation: auto;
}

::view-transition-old(root),
::view-transition-new(root) {
    animation-duration: 200ms;
    animation-timing-function: ease-out;
}

::view-transition-old(root) {
    animation-name: fade-out;
}

::view-transition-new(root) {
    animation-name: fade-in;
}

@keyframes fade-out {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@layer base {
    html {
        scroll-behavior: smooth;
        background-color: var(--color-surface-page);
        color: var(--color-content);
    }

    body {
        font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
        word-break: keep-all;
        overflow-x: hidden;
        overflow-wrap: anywhere;
        background-color: var(--color-surface-page);
        color: var(--color-content);
    }

    [x-cloak] {
        display: none !important;
    }

    img:not([data-no-filter]) {
        filter: var(--media-filter);
        transition: filter var(--motion-interaction) var(--ease-apple);
    }

    video:not([data-no-filter]) {
        filter: var(--media-filter);
    }
}

@media print {
    header,
    footer,
    nav,
    aside,
    .fixed,
    .sticky,
    island-component[name="LoginPrompt"],
    island-component[name="Toaster"],
    island-component[name="Comments"],
    island-component[name="RelatedPosts"] {
        display: none !important;
    }

    body {
        font-size: 12pt;
        line-height: 1.6;
        color: #000;
        background: #fff;
    }

    main {
        min-height: auto !important;
    }

    a {
        color: #000;
        text-decoration: underline;
    }

    a[href]::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
    }

    a[href^="#"]::after,
    a[href^="javascript"]::after,
    a[href^="/@"]::after {
        content: "";
    }

    img {
        max-width: 100% !important;
        page-break-inside: avoid;
    }

    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
    }

    .blog-post-content {
        max-width: 100%;

        pre {
            white-space: pre-wrap;
            border: 1px solid #ddd;
        }

        .code-block-wrapper {
            page-break-inside: avoid;
        }
    }
}
