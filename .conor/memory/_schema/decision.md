# Decision Chunk 스키마

<!--
이 파일은 D(결정) 타입 chunk의 작성 형식을 정의합니다.
ADR(Architecture Decision Record) 포맷을 기반으로 합니다.
-->

## 언제 작성하는가

- 기술 스택, 라이브러리, 아키텍처를 선택하거나 변경했을 때
- "회의하자" 트리거로 의사결정 세션을 진행한 후
- 설계 방향에 대해 트레이드오프를 비교하고 선택했을 때

## 파일명 규칙

`D-{YYYYMMDD}-{영문slug}.md`

- 예: `D-20250210-db-choice.md`
- slug는 결정 내용을 2~4단어 영문으로 요약

## 작성 규칙

- 하나의 결정 = 하나의 chunk (여러 결정을 섞지 않음)
- 각 필드는 1~2줄로 핵심만 작성
- 전체 10줄 이내
- 선택지와 페르소나 의견은 해당 시에만 작성

## 템플릿

```template
---
type: decision
date: YYYY-MM-DD
tags: [태그1, 태그2]
refs: []
---
**상황**: 왜 이 결정이 필요했는지 (1줄)
**선택지**: 고려한 옵션들 (번호 목록, 해당 시)
**페르소나 의견**: 누가 뭐라고 했는지 (해당 시)
**결정**: 무엇을 선택했는지 (1줄)
**근거**: 왜 이것을 선택했는지 (1-2줄)
**배운 것**: 이 결정에서 얻은 인사이트 (1줄)
```

## 예시

```markdown
---
type: decision
date: 2025-02-10
tags: [database, architecture]
refs: [P-20250201-tech-stack]
---
**상황**: 사용자 증가로 DB 마이그레이션 검토 필요
**선택지**: 1) PostgreSQL 유지 2) MongoDB 전환 3) PlanetScale
**페르소나 의견**: 빅토르: 스키마 변경 빈도 낮으므로 RDB 유지 권장
**결정**: PostgreSQL 유지 + connection pooling 도입
**근거**: 기존 쿼리 자산 보존, 팀 친숙도, 트랜잭션 안정성
**배운 것**: DB 전환은 데이터 모델이 바뀔 때만 검토할 것
```
